<%- include('../partials/header.ejs') %>
    <h1>Reporting</h1>
    <div>

    <form action="/addReport" method="POST">
        <div>
            <label for="time_of_day">time of day</label>
            <select name="time_of_day" id="time_of_day" onchange="change_time_of_day(this)">

                <option hidden disabled selected value> -- select an option -- </option>
                <option value="morning">Morning</option>
                <option value="evening">Evening</option>
            </select>
            
        </div>

        <div id="morning" style = "display: none;">
          <% if (data.morning) { %>
             <p class="alert alert-info"> Remember: Morning behaviour is already submitted, you are editing the information you have submitted; </p>
          <% }%>
            <div>
                <label for="sleep_duration">Sleep Duration: </label><input type="number" step=".1" name="sleep_duration" id="sleep_duration" value="<%= data.sleep_duration%>">
                <%- include('../partials/error.ejs', { errors: errors, attribute: 'sleep_duration'}) %>
           </div> 
    
           <div>
              
                <label for="sleep_quality" >Sleep Quality: </label> 
                <label class="radio-inline">
                    <input type="radio" name="sleep_quality" value="1" <%= data.sleep_quality === 1 ? 'checked' : '' %> >1
                  </label>
                  <label class="radio-inline">
                    <input type="radio" name="sleep_quality" value="2" <%= data.sleep_quality === 2 ? 'checked' : '' %> > 2
                  </label>
                  <label class="radio-inline">
                    <input type="radio" name="sleep_quality" value="3" <%= data.sleep_quality === 3 ? 'checked' : '' %> > 3
                  </label>
                  <label class="radio-inline">
                    <input type="radio" name="sleep_quality" value="4" <%= data.sleep_quality === 4 ? 'checked' : '' %> > 4
                  </label>
                  <label class="radio-inline">
                    <input type="radio" name="sleep_quality" value="5" <%= data.sleep_quality === 5 ? 'checked' : '' %> > 5
                  </label>
                <%- include('../partials/error.ejs', { errors: errors, attribute: 'sleep_quality'}) %>

                <!-- <input type="number" name="sleep_quality" id="sleep_quality"> -->
                <!-- <input type="radio" name="sleep_quality" id="sleep_quality">
                
               <select name="sleep_quality" id="sleep_quality">
                   <option value="1">1</option>
                   <option value="2">2</option>
                   <option value="3">3</option>
                   <option value="4">4</option>
                   <option value="5รง">5</option>
               </select> -->

            </div>
        </div>
         
        <div id="evening"  style = "display: none;">
          <% if (data.evening) { %>
            <p class="alert alert-info">Remember: Evening behaviour is already submitted, you are editing the information you have submitted; </p>
         <% }%>
            <div>
                <label for="exercise_duration">Exercise Duration: </label><input type="number" step=".1" name="exercise_duration" id="exercise_duration">
                <%- include('../partials/error.ejs', { errors: errors, attribute: 'exercise_duration'}) %>

           </div> 
    
           <div>
                <label for="studying_duration">Study Duration: </label> <input type="number" name="studying_duration" id="studying_duration">
                <%- include('../partials/error.ejs', { errors: errors, attribute: 'studying_duration'}) %>

            </div>
    
            <div>
                <label for="food_quality"> Food Quality</label>
                 <!-- <input type="number" name="food_quality" id="food_quality"> -->
                <label class="radio-inline">
                    <input type="radio" name="food_quality" value="1" <%= data.food_quality === 1 ? 'checked' : '' %> >1
                  </label>
                  <label class="radio-inline">
                    <input type="radio" name="food_quality" value="2" <%= data.food_quality === 2 ? 'checked' : '' %>> 2
                  </label>
                  <label class="radio-inline">
                    <input type="radio" name="food_quality" value="3" <%= data.food_quality === 3 ? 'checked' : '' %>> 3
                  </label>
                  <label class="radio-inline">
                    <input type="radio" name="food_quality" value="4" <%= data.food_quality === 4 ? 'checked' : '' %>> 4
                  </label>
                  <label class="radio-inline">
                    <input type="radio" name="food_quality" value="5" <%= data.food_quality === 5 ? 'checked' : '' %>> 5
                  </label>
            </div>
            <%- include('../partials/error.ejs', { errors: errors, attribute: 'food_quality'}) %>

             </div>
        </div>

        <div id="common" style="display: none;">
            <div>
                <label for="generic_mood">Generic Mood: </label> 
                <!-- <input type="number" name="generic_mood" id= "generic_mood"> -->
                <label class="radio-inline">
                    <input type="radio" name="generic_mood" value="1" <%= data.generic_mood === 1 ? 'checked' : '' %>>1
                  </label>
                  <label class="radio-inline">
                    <input type="radio" name="generic_mood" value="2" <%= data.generic_mood === 2 ? 'checked' : '' %>> 2
                  </label>
                  <label class="radio-inline">
                    <input type="radio" name="generic_mood" value="3" <%= data.generic_mood === 3 ? 'checked' : '' %>> 3
                  </label>
                  <label class="radio-inline">
                    <input type="radio" name="generic_mood" value="4" <%= data.generic_mood === 4 ? 'checked' : '' %>> 4
                  </label>
                  <label class="radio-inline">
                    <input type="radio" name="generic_mood" value="5" <%= data.generic_mood === 5 ? 'checked' : '' %>> 5
                  </label>
            </div>
            <%- include('../partials/error.ejs', { errors: errors, attribute: 'generic_mood'}) %>

            
            <div>
                <label for="date">Date </label><input type="date" name="date" id="date"> <label for="date_now">
            </div>
        </div>
       
        <input type="submit" value="Add Report!">
    </form>
</div>

    <script>


      window.onload = function() {
          const date = new Date();
        };
        
    
        function change_time_of_day(selectedOption) {
            const date = new Date();
            document.getElementById('date').valueAsDate = date;

            document.getElementById('common').style.display = 'block';
            if (selectedOption.value === "morning") {
                document.getElementById("morning").style.display = 'block';
                document.getElementById("evening").style.display = 'none';

            } else {
                document.getElementById("evening").style.display = 'block';
                document.getElementById("morning").style.display = 'none';

            }
        }
    </script>
<%- include('../partials/footer.ejs') %>
